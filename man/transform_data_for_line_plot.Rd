% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/transform_data_for_line_plot.R
\name{transform_data_for_line_plot}
\alias{transform_data_for_line_plot}
\title{Transform Autoantibody Data for Line Plot}
\usage{
transform_data_for_line_plot(
  df,
  autoantibody_columns,
  subgroup_column = "Clustering"
)
}
\arguments{
\item{df}{A data frame containing the autoantibody data and subgroup information.}

\item{autoantibody_columns}{A character vector of column names or an integer vector of column positions
corresponding to the autoantibody variables to include.}

\item{subgroup_column}{A character string or integer indicating the subgroup column to group by.
Defaults to \code{"Clustering"}.}
}
\value{
A long-format data frame with the following columns:
\describe{
\item{Subgroup column}{The grouping variable (e.g., Clustering).}
\item{Autoantibody}{The name of the autoantibody.}
\item{Frequency}{The percentage of positive results within each subgroup.}
}
}
\description{
Prepares a long-format data frame showing the percentage frequency of positive autoantibody results
per subgroup, suitable for plotting with \code{ggplot2}.
}
\details{
The function:
\enumerate{
\item Extracts the specified autoantibody columns and the subgroup column.
\item Converts the autoantibody binary values to numeric (if needed).
\item Calculates the sum of positives per subgroup.
\item Divides by the subgroup size to obtain the percentage positivity.
\item Returns the data in a melted long format suitable for plotting.
}
}
\examples{
\dontrun{
# Example usage
df <- your_data_frame
autoantibody_vars <- c("anti-dsDNA", "anti-Sm", "anti-RNP")
freq_long <- transform_data_for_line_plot(df, autoantibody_columns = autoantibody_vars)

library(ggplot2)
ggplot(freq_long, aes(x = Autoantibody, y = Frequency, group = Clustering, color = Clustering)) +
  geom_line() + geom_point()
}

}
\seealso{
\code{\link[reshape2:melt]{reshape2::melt()}}, \code{\link[dplyr:group_by]{dplyr::group_by()}}, \code{\link[dplyr:mutate]{dplyr::mutate()}}
}
